(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods"],{"0598":function(t,e,n){},"2f98":function(t,e,n){"use strict";n.r(e);var r=n("494a"),o=n.n(r);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);e["default"]=o.a},"3c83":function(t,e,n){"use strict";var r=n("0598"),o=n.n(r);o.a},"494a":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t){return s(t)||c(t)||i(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n,r,o,u,a){try{var i=t[u](a),c=i.value}catch(s){return void n(s)}i.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var u=t.apply(e,n);function a(t){l(u,r,o,a,i,"next",t)}function i(t){l(u,r,o,a,i,"throw",t)}a(void 0)}))}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={data:function(){var t;return t={categories:[],goodsList:[],page:1,keyword:"",scrollTop:0,current:null,menuHeight:0,menuItemHeight:0},g(t,"keyword",""),g(t,"isLastPage",!1),g(t,"currentSort",0),g(t,"sortList",[{name:"销量"},{name:"推荐"},{name:"价格"},{name:"评论"}]),t},computed:{},onLoad:function(){this.getData()},methods:{getData:function(){var t=this;return d(r.default.mark((function e(){var n,o;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={page:t.page,title:t.keyword},t.current&&(n.category_id=t.current),t.currentSort&&(0==t.currentSort&&(n.sales=1),1==t.currentSort&&(n.recommend=1),2==t.currentSort&&(n.price=1),3==t.currentSort&&(n.comments_count=1)),e.next=5,t.$u.api.goodsList(n);case 5:o=e.sent,t.categories=o.categories,t.goodsList=[].concat(u(t.goodsList),u(o.goods.data)),t.isLastPage=!o.goods.next_page_url,console.log(t.goodsList);case 10:case"end":return e.stop()}}),e)})))()},getImg:function(){return Math.floor(35*Math.random())},swichMenu:function(t){var e=this;return d(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t!=e.current){n.next=2;break}return n.abrupt("return");case 2:if(e.current=t,console.log(t),e.page=1,e.goodsList=[],e.getData(),0!=e.menuHeight&&0!=e.menuItemHeight){n.next=12;break}return n.next=10,e.getElRect("menu-scroll-view","menuHeight");case 10:return n.next=12,e.getElRect("u-tab-item","menuItemHeight");case 12:e.scrollTop=t*e.menuItemHeight+e.menuItemHeight/2-e.menuHeight/2;case 13:case"end":return n.stop()}}),n)})))()},getElRect:function(e,n){var r=this;new Promise((function(o,u){var a=t.createSelectorQuery().in(r);a.select("."+e).fields({size:!0},(function(t){t?r[n]=t.height:setTimeout((function(){r.getElRect(e)}),10)})).exec()}))},searchGoods:function(){this.page=1,this.goodsList=[],this.getData()},clearSearch:function(){this.page=1,this.keyword="",this.getData()},scrollEvent:function(){this.isLastPage||(this.page=this.page+1,this.getData())},changeSort:function(t){console.log(t),this.currentSort=t,this.goodsList=[],this.page=1,this.getData()}}};e.default=h}).call(this,n("543d")["default"])},"5c0e":function(t,e,n){"use strict";n.r(e);var r=n("76e9"),o=n("2f98");for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("3c83");var a,i=n("f0c5"),c=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"93c650ac",null,!1,r["a"],a);e["default"]=c.exports},"76e9":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return r}));var r={uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"54e2"))},uTabs:function(){return n.e("uview-ui/components/u-tabs/u-tabs").then(n.bind(null,"1982"))},uEmpty:function(){return n.e("uview-ui/components/u-empty/u-empty").then(n.bind(null,"6d30"))}},o=function(){var t=this,e=t.$createElement;t._self._c},u=[]},f01a:function(t,e,n){"use strict";(function(t){n("2cbb");r(n("66fd"));var e=r(n("5c0e"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])}},[["f01a","common/runtime","common/vendor"]]]);